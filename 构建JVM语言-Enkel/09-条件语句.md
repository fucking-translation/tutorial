# 构建JVM语言 - Enkel

<h2 align="center">【第十节】：条件语句</h2>

</br>

[原文](hhttp://jakubdziworski.github.io/enkel/2016/04/16/enkel_10_if_statement.html)

</br>

## 源码

这个项目的源码可以从[Github仓库](https://github.com/JakubDziworski/Enkel-JVM-language)中进行克隆。

## 语法变更

显示条件语句将会导致下面的两个语法发生变更：
- 介绍一个新的规则`ifStatement`。
- 在`expression`规则中添加可选的`conditionalExpression`。

```antlr
ifStatement :  'if'  '('? expression ')'? trueStatement=statement ('else' falseStatement=statement)?;
expression : varReference #VARREFERENCE
           | value        #VALUE
           //other expression alternatives
           | expression cmp='>' expression #conditionalExpression
           | expression cmp='<' expression #conditionalExpression
           | expression cmp='==' expression #conditionalExpression
           | expression cmp='!=' expression #conditionalExpression
           | expression cmp='>=' expression #conditionalExpression
           | expression cmp='<=' expression #conditionalExpression
           ;
```

`ifStatement`规则定义基本上意味着：
- `expression`是一个将被测试的条件
- 不需要将条件置于括号（`'('?` `')'?`）中 - 标记的问好意味着可选。
- 条件为true时，将会执行`trueStatement`语句。
- if可以跟在else后面。
- 条件为false时，将会执行`falseStatement`语句。
- `ifStatement`也不是个表达式，所以它可以被用在`trueStatement`和`falseStatement`中（if...else if...else）。

新的表达式几乎可以自解释。